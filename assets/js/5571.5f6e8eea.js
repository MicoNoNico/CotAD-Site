"use strict";(self.webpackChunkcot_ad_source=self.webpackChunkcot_ad_source||[]).push([[5571],{5182:()=>{},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>c});var r=n(6540);const o={},i=r.createContext(o);function l(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),r.createElement(i.Provider,{value:t},e.children)}},1470:(e,t,n)=>{n.d(t,{Ay:()=>ht});var r=n(6540);const o="carousel",i="controller",l="portal",c="toolbar",a="loading",u="error",s="complete",d="placeholder",f=e=>`active-slide-${e}`,p=(f(a),f("playing"),f(u),f(s),"flex_center"),h="no_scroll_padding",m="slide_wrapper",v="prev",g="next",b="swipe",E="close",x="onPointerDown",y="onPointerMove",w="onPointerUp",C="onPointerLeave",P="onPointerCancel",M="onKeyDown",N="onKeyUp",L="onWheel",k="Escape",I="ArrowLeft",S="ArrowRight",R="icon",$="contain",_="cover",W="Unknown action type";var D=n(961);const O="yarl__";function T(...e){return[...e].filter(Boolean).join(" ")}function A(e){return`${O}${e}`}function F(e){return`--${O}${e}`}function U(e,t){return`${e}${t?`_${t}`:""}`}function X(e){return t=>U(e,t)}function B(e,t){var n;return null!==(n=null==e?void 0:e[t])&&void 0!==n?n:t}function z(...e){return()=>{e.forEach((e=>{e()}))}}function H(e,t,n){return()=>{const o=r.useContext(n);if(!o)throw new Error(`${e} must be used within a ${t}.Provider`);return o}}function Y(){return"undefined"!=typeof window}function K(e){return"string"==typeof e?Number.parseInt(e,10):e}function V(e){if("number"==typeof e)return{pixel:e};if("string"==typeof e){const t=K(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function j(e,t){const n=V(t),r=void 0!==n.percent?e.width/100*n.percent:n.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function q(e,t){return t>0?(e%t+t)%t:0}function G(e){return e.length>0}function J(e,t){return G(e)?function(e,t){return e[q(t,e.length)]}(e,t):void 0}const Q={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[E]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:$,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function Z(e,t){return{name:e,component:t}}function ee(e,t){return{module:e,children:t}}function te(e,t,n){return e.module.name===t?n(e):e.children?[ee(e.module,e.children.flatMap((e=>{var r;return null!==(r=te(e,t,n))&&void 0!==r?r:[]})))]:[e]}function ne(e,t,n){return e.flatMap((e=>{var r;return null!==(r=te(e,t,n))&&void 0!==r?r:[]}))}const re=r.createContext(null),oe=H("useEvents","EventsContext",re);function ie({children:e}){const[t]=r.useState({});r.useEffect((()=>()=>{Object.keys(t).forEach((e=>delete t[e]))}),[t]);const n=r.useMemo((()=>{const e=(e,n)=>{var r;null===(r=t[e])||void 0===r||r.splice(0,t[e].length,...t[e].filter((e=>e!==n)))};return{publish:(...[e,n])=>{var r;null===(r=t[e])||void 0===r||r.forEach((e=>e(n)))},subscribe:(n,r)=>(t[n]||(t[n]=[]),t[n].push(r),()=>e(n,r)),unsubscribe:e}}),[t]);return r.createElement(re.Provider,{value:n},e)}const le=r.createContext(null),ce=H("useLightboxProps","LightboxPropsContext",le);function ae({children:e,...t}){return r.createElement(le.Provider,{value:t},e)}const ue=r.createContext(null),se=H("useLightboxState","LightboxStateContext",ue),de=r.createContext(null),fe=H("useLightboxDispatch","LightboxDispatchContext",de);function pe(e,t){switch(t.type){case"swipe":{const{slides:n}=e,r=(null==t?void 0:t.increment)||0,o=e.globalIndex+r,i=q(o,n.length);return{slides:n,currentIndex:i,globalIndex:o,currentSlide:J(n,i),animation:r||t.duration?{increment:r,duration:t.duration,easing:t.easing}:void 0}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:J(t.slides,t.index)}:e;default:throw new Error(W)}}function he({slides:e,index:t,children:n}){const[o,i]=r.useReducer(pe,{slides:e,currentIndex:t,globalIndex:t,currentSlide:J(e,t)});r.useEffect((()=>{i({type:"update",slides:e,index:t})}),[e,t]);const l=r.useMemo((()=>({...o,state:o,dispatch:i})),[o,i]);return r.createElement(de.Provider,{value:i},r.createElement(ue.Provider,{value:l},n))}const me=r.createContext(null),ve=H("useTimeouts","TimeoutsContext",me);function ge({children:e}){const[t]=r.useState([]);r.useEffect((()=>()=>{t.forEach((e=>window.clearTimeout(e))),t.splice(0,t.length)}),[t]);const n=r.useMemo((()=>{const e=e=>{t.splice(0,t.length,...t.filter((t=>t!==e)))};return{setTimeout:(n,r)=>{const o=window.setTimeout((()=>{e(o),n()}),r);return t.push(o),o},clearTimeout:t=>{void 0!==t&&(e(t),window.clearTimeout(t))}}}),[t]);return r.createElement(me.Provider,{value:n},e)}const be=r.forwardRef((function({label:e,className:t,icon:n,renderIcon:o,onClick:i,style:l,...c},a){const{styles:u,labels:s}=ce();return r.createElement("button",{ref:a,type:"button","aria-label":B(s,e),className:T(A("button"),t),onClick:i,style:{...l,...u.button},...c},o?o():r.createElement(n,{className:A(R),style:u.icon}))}));function Ee(e,t){const n=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...e},t);return n.displayName=e,n}function xe(e,t){return Ee(e,r.createElement("g",{fill:"currentColor"},r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const ye=xe("Close",r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),we=xe("Previous",r.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Ce=xe("Next",r.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Pe=xe("Loading",r.createElement(r.Fragment,null,Array.from({length:8}).map(((e,t,n)=>r.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/n.length*(t+1),transform:`rotate(${360/n.length*t}, 12, 12)`}))))),Me=xe("Error",r.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Ne=Y()?r.useLayoutEffect:r.useEffect;function Le(){const[e,t]=r.useState(!1);return r.useEffect((()=>{var e,n;const r=null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-reduced-motion: reduce)");t(null==r?void 0:r.matches);const o=e=>t(e.matches);return null===(n=null==r?void 0:r.addEventListener)||void 0===n||n.call(r,"change",o),()=>{var e;return null===(e=null==r?void 0:r.removeEventListener)||void 0===e?void 0:e.call(r,"change",o)}}),[]),e}function ke(e,t){const n=r.useRef(),o=r.useRef(),i=Le();return Ne((()=>{var r,l,c;if(e.current&&void 0!==n.current&&!i){const{keyframes:i,duration:u,easing:s,onfinish:d}=t(n.current,e.current.getBoundingClientRect(),function(e){let t=0,n=0,r=0;const o=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(o){const e=o[1].split(",").map(K);6===e.length?(t=e[4],n=e[5]):16===e.length&&(t=e[12],n=e[13],r=e[14])}return{x:t,y:n,z:r}}(e.current))||{};if(i&&u){null===(r=o.current)||void 0===r||r.cancel(),o.current=void 0;try{o.current=null===(c=(l=e.current).animate)||void 0===c?void 0:c.call(l,i,{duration:u,easing:s})}catch(a){console.error(a)}o.current&&(o.current.onfinish=()=>{o.current=void 0,null==d||d()})}}n.current=void 0})),{prepareAnimation:e=>{n.current=e},isAnimationPlaying:()=>{var e;return"running"===(null===(e=o.current)||void 0===e?void 0:e.playState)}}}function Ie(){const e=r.useRef(null),t=r.useRef(),[n,o]=r.useState();return{setContainerRef:r.useCallback((n=>{e.current=n,t.current&&(t.current.disconnect(),t.current=void 0);const r=()=>{if(n){const e=window.getComputedStyle(n),t=e=>parseFloat(e)||0;o({width:Math.round(n.clientWidth-t(e.paddingLeft)-t(e.paddingRight)),height:Math.round(n.clientHeight-t(e.paddingTop)-t(e.paddingBottom))})}else o(void 0)};r(),n&&"undefined"!=typeof ResizeObserver&&(t.current=new ResizeObserver(r),t.current.observe(n))}),[]),containerRef:e,containerRect:n}}function Se(){const e=r.useRef(),{setTimeout:t,clearTimeout:n}=ve();return r.useCallback(((r,o)=>{n(e.current),e.current=t(r,o>0?o:0)}),[t,n])}function Re(e){const t=r.useRef(e);return Ne((()=>{t.current=e})),r.useCallback(((...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}function $e(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function _e(e,t){return r.useMemo((()=>null==e&&null==t?null:n=>{$e(e,n),$e(t,n)}),[e,t])}function We(e,t=!1){const n=r.useRef();Ne((()=>{t&&n.current&&(n.current=!1,e())}),[t,e]);return{onFocus:r.useCallback((()=>{n.current=!0}),[]),onBlur:r.useCallback((()=>{n.current=!1}),[])}}function De(){const[e,t]=r.useState(!1);return Ne((()=>{t("rtl"===window.getComputedStyle(window.document.documentElement).direction)}),[]),e}function Oe(e,t){const n=r.useRef(0),o=Se(),i=Re(((...t)=>{n.current=Date.now(),e(t)}));return r.useCallback(((...e)=>{o((()=>{i(e)}),t-(Date.now()-n.current))}),[t,i,o])}const Te=X("slide"),Ae=X("slide_image");function Fe({slide:e,offset:t,render:n,rect:o,imageFit:i,imageProps:l,onClick:c,onLoad:p,style:h}){var m,v,g,b,E,x,y;const[w,C]=r.useState(a),{publish:P}=oe(),{setTimeout:M}=ve(),N=r.useRef(null);r.useEffect((()=>{0===t&&P(f(w))}),[t,w,P]);const L=Re((e=>{("decode"in e?e.decode():Promise.resolve()).catch((()=>{})).then((()=>{e.parentNode&&(C(s),M((()=>{null==p||p(e)}),0))}))})),k=r.useCallback((e=>{N.current=e,(null==e?void 0:e.complete)&&L(e)}),[L]),I=r.useCallback((e=>{L(e.currentTarget)}),[L]),S=r.useCallback((()=>{C(u)}),[]),W=function(e,t){return e.imageFit===_||e.imageFit!==$&&t===_}(e,i),D=(e,t)=>Number.isFinite(e)?e:t,O=D(Math.max(...(null!==(v=null===(m=e.srcSet)||void 0===m?void 0:m.map((e=>e.width)))&&void 0!==v?v:[]).concat(e.width?[e.width]:[]).filter(Boolean)),(null===(g=N.current)||void 0===g?void 0:g.naturalWidth)||0),F=D(Math.max(...(null!==(E=null===(b=e.srcSet)||void 0===b?void 0:b.map((e=>e.height)))&&void 0!==E?E:[]).concat(e.height?[e.height]:[]).filter(Boolean)),(null===(x=N.current)||void 0===x?void 0:x.naturalHeight)||0),U=O&&F?{maxWidth:`min(${O}px, 100%)`,maxHeight:`min(${F}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},X=null===(y=e.srcSet)||void 0===y?void 0:y.sort(((e,t)=>e.width-t.width)).map((e=>`${e.src} ${e.width}w`)).join(", "),B=X&&o&&Y()?`${Math.round(Math.min(o&&!W&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,o.width))}px`:void 0,{style:z,className:H,...K}=l||{};return r.createElement(r.Fragment,null,r.createElement("img",{ref:k,onLoad:I,onError:S,onClick:c,draggable:!1,className:T(A(Ae()),W&&A(Ae("cover")),w!==s&&A(Ae("loading")),H),style:{...U,...h,...z},...K,alt:e.alt,sizes:B,srcSet:X,src:e.src}),w!==s&&r.createElement("div",{className:A(Te(d))},w===a&&((null==n?void 0:n.iconLoading)?n.iconLoading():r.createElement(Pe,{className:T(A(R),A(Te(a)))})),w===u&&((null==n?void 0:n.iconError)?n.iconError():r.createElement(Me,{className:T(A(R),A(Te(u)))}))))}var Ue,Xe;!function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"}(Ue||(Ue={})),function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"}(Xe||(Xe={}));const Be=30;function ze(e,t,n,o,i,l,c,a,u,s,d,f,p,h){const m=r.useRef(0),v=r.useRef([]),g=r.useRef(),b=r.useRef(0),E=r.useRef(Xe.NONE),M=r.useCallback((e=>{g.current===e.pointerId&&(g.current=void 0,E.current=Xe.NONE);const t=v.current;t.splice(0,t.length,...t.filter((t=>t.pointerId!==e.pointerId)))}),[]),N=r.useCallback((e=>{M(e),e.persist(),v.current.push(e)}),[M]),L=Re((e=>{N(e)})),k=(e,t)=>s&&e>t||u&&e<-t,I=Re((e=>{if(v.current.find((t=>t.pointerId===e.pointerId))&&g.current===e.pointerId){const e=Date.now()-b.current,t=m.current;E.current===Xe.SWIPE?Math.abs(t)>.3*n||Math.abs(t)>5&&e<o?c(t,e):a(t):E.current===Xe.PULL&&(k(t,2*Be)?p(t,e):h(t)),m.current=0,E.current=Xe.NONE}M(e)}));!function(e,t,n,o,i){r.useEffect((()=>i?()=>{}:z(e(x,t),e(y,n),e(w,o),e(C,o),e(P,o))),[e,t,n,o,i])}(e,L,Re((e=>{const n=v.current.find((t=>t.pointerId===e.pointerId));if(n){const r=g.current===e.pointerId;if(0===e.buttons)return void(r&&0!==m.current?I(e):M(n));const o=e.clientX-n.clientX,c=e.clientY-n.clientY;if(void 0===g.current){const n=t=>{N(e),g.current=e.pointerId,b.current=Date.now(),E.current=t};Math.abs(o)>Math.abs(c)&&Math.abs(o)>Be&&t(o)?(n(Xe.SWIPE),i()):Math.abs(c)>Math.abs(o)&&k(c,Be)&&(n(Xe.PULL),d())}else r&&(E.current===Xe.SWIPE?(m.current=o,l(o)):E.current===Xe.PULL&&(m.current=c,f(c)))}})),I)}const He=X("container"),Ye=r.createContext(null),Ke=H("useController","ControllerContext",Ye);const Ve=Z(i,(function({children:e,...t}){var n;const{carousel:o,animation:i,controller:c,on:a,styles:u,render:s}=t,{closeOnPullUp:d,closeOnPullDown:f,preventDefaultWheelX:h,preventDefaultWheelY:m}=c,[k,I]=r.useState(),S=se(),R=fe(),[$,_]=r.useState(Ue.NONE),W=r.useRef(0),D=r.useRef(0),O=r.useRef(1),{registerSensors:U,subscribeSensors:X}=function(){const[e]=r.useState({}),t=r.useCallback(((t,n)=>{var r;null===(r=e[t])||void 0===r||r.forEach((e=>{n.isPropagationStopped()||e(n)}))}),[e]);return{registerSensors:r.useMemo((()=>({onPointerDown:e=>t(x,e),onPointerMove:e=>t(y,e),onPointerUp:e=>t(w,e),onPointerLeave:e=>t(C,e),onPointerCancel:e=>t(P,e),onKeyDown:e=>t(M,e),onKeyUp:e=>t(N,e),onWheel:e=>t(L,e)})),[t]),subscribeSensors:r.useCallback(((t,n)=>(e[t]||(e[t]=[]),e[t].unshift(n),()=>{const r=e[t];r&&r.splice(0,r.length,...r.filter((e=>e!==n)))})),[e])}}(),{subscribe:B,publish:H}=oe(),Y=Se(),K=Se(),q=Se(),{containerRef:G,setContainerRef:J,containerRect:Q}=Ie(),Z=_e(function({preventDefaultWheelX:e,preventDefaultWheelY:t}){const n=r.useRef(null),o=Re((n=>{const r=Math.abs(n.deltaX)>Math.abs(n.deltaY);(r&&e||!r&&t||n.ctrlKey)&&n.preventDefault()}));return r.useCallback((e=>{var t;e?e.addEventListener("wheel",o,{passive:!1}):null===(t=n.current)||void 0===t||t.removeEventListener("wheel",o),n.current=e}),[o])}({preventDefaultWheelX:h,preventDefaultWheelY:m}),J),ee=r.useRef(null),te=_e(ee,void 0),ne=De(),re=e=>(ne?-1:1)*("number"==typeof e?e:1),ie=Re((()=>{var e;return null===(e=G.current)||void 0===e?void 0:e.focus()})),le=Re((()=>t)),ce=Re((()=>S)),ae=r.useCallback((e=>H(v,e)),[H]),ue=r.useCallback((e=>H(g,e)),[H]),de=r.useCallback((()=>H(E)),[H]),pe=e=>!(o.finite&&(re(e)>0&&0===S.currentIndex||re(e)<0&&S.currentIndex===S.slides.length-1)),he=e=>{var t;W.current=e,null===(t=G.current)||void 0===t||t.style.setProperty(F("swipe_offset"),`${Math.round(e)}px`)},me=e=>{var t,n;D.current=e,O.current=(()=>{const t=f&&e>0?e:d&&e<0?-e:0;return Math.min(Math.max(function(e,t=0){const n=10**t;return Math.round((e+Number.EPSILON)*n)/n}(1-t/60*.5,2),.5),1)})(),null===(t=G.current)||void 0===t||t.style.setProperty(F("pull_offset"),`${Math.round(e)}px`),null===(n=G.current)||void 0===n||n.style.setProperty(F("pull_opacity"),`${O.current}`)},{prepareAnimation:ge}=ke(ee,((e,t,n)=>{if(ee.current&&Q)return{keyframes:[{transform:`translate(0, ${e.rect.y-t.y+n.y}px)`,opacity:e.opacity},{transform:"translate(0, 0)",opacity:1}],duration:e.duration,easing:i.easing.fade}})),be=(e,t)=>{if(d||f){me(e);let n=0;ee.current&&(n=i.fade*(t?2:1),ge({rect:ee.current.getBoundingClientRect(),opacity:O.current,duration:n})),q((()=>{me(0),_(Ue.NONE)}),n),_(Ue.ANIMATION),t||de()}},{prepareAnimation:Ee,isAnimationPlaying:xe}=ke(ee,((e,t,n)=>{var r;if(ee.current&&Q&&(null===(r=S.animation)||void 0===r?void 0:r.duration)){const r=V(o.spacing),i=(r.percent?r.percent*Q.width/100:r.pixel)||0;return{keyframes:[{transform:`translate(${re(S.globalIndex-e.index)*(Q.width+i)+e.rect.x-t.x+n.x}px, 0)`},{transform:"translate(0, 0)"}],duration:S.animation.duration,easing:S.animation.easing}}})),ye=Re((e=>{var t,n;const r=e.offset||0,o=r?i.swipe:null!==(t=i.navigation)&&void 0!==t?t:i.swipe,l=r||xe()?i.easing.swipe:i.easing.navigation;let{direction:c}=e;const a=null!==(n=e.count)&&void 0!==n?n:1;let u=Ue.ANIMATION,s=o*a;if(!c){const t=null==Q?void 0:Q.width,n=e.duration||0,i=t?o/t*Math.abs(r):o;0!==a?(n<i?s=s/i*Math.max(n,i/5):t&&(s=o/t*(t-Math.abs(r))),c=re(r)>0?v:g):s=o/2}let d=0;c===v?pe(re(1))?d=-a:(u=Ue.NONE,s=o):c===g&&(pe(re(-1))?d=a:(u=Ue.NONE,s=o)),s=Math.round(s),K((()=>{he(0),_(Ue.NONE)}),s),ee.current&&Ee({rect:ee.current.getBoundingClientRect(),index:S.globalIndex}),_(u),H(b,{type:"swipe",increment:d,duration:s,easing:l})}));r.useEffect((()=>{var e,t;(null===(e=S.animation)||void 0===e?void 0:e.increment)&&(null===(t=S.animation)||void 0===t?void 0:t.duration)&&Y((()=>R({type:"swipe",increment:0})),S.animation.duration)}),[S.animation,R,Y]);const we=[X,pe,(null==Q?void 0:Q.width)||0,i.swipe,()=>_(Ue.SWIPE),e=>he(e),(e,t)=>ye({offset:e,duration:t,count:1}),e=>ye({offset:e,count:0})],Ce=[()=>{f&&_(Ue.PULL)},e=>me(e),e=>be(e),e=>be(e,!0)];ze(...we,d,f,...Ce),function(e,t,n,o,i,l,c,a,u){const s=r.useRef(0),d=r.useRef(0),f=r.useRef(),p=r.useRef(),h=r.useRef(0),m=r.useRef(0),{setTimeout:v,clearTimeout:g}=ve(),b=r.useCallback((()=>{f.current&&(g(f.current),f.current=void 0)}),[g]),E=r.useCallback((()=>{p.current&&(g(p.current),p.current=void 0)}),[g]),x=Re((()=>{e!==Ue.SWIPE&&(s.current=0,m.current=0,b(),E())}));r.useEffect(x,[e,x]);const y=Re((e=>{p.current=void 0,s.current===e&&u(s.current)})),w=Re((t=>{if(!(t.ctrlKey||Math.abs(t.deltaY)>Math.abs(t.deltaX)))if(e===Ue.NONE){if(Math.abs(t.deltaX)<=1.2*Math.abs(h.current))return void(h.current=t.deltaX);if(!n(-t.deltaX))return;if(d.current+=t.deltaX,b(),Math.abs(d.current)>30)d.current=0,h.current=0,m.current=Date.now(),l();else{const e=d.current;f.current=v((()=>{f.current=void 0,e===d.current&&(d.current=0)}),i)}}else if(e===Ue.SWIPE){let e=s.current-t.deltaX;if(e=Math.min(Math.abs(e),o)*Math.sign(e),s.current=e,c(e),E(),Math.abs(e)>.2*o)return h.current=t.deltaX,void a(e,Date.now()-m.current);p.current=v((()=>y(e)),2*i)}else h.current=t.deltaX}));r.useEffect((()=>t(L,w)),[t,w])}($,...we);const Pe=Re((()=>{c.focus&&document.querySelector(`.${A(l)} .${A(He())}`)&&ie()}));r.useEffect(Pe,[Pe]);const Me=Re((()=>{var e;null===(e=a.view)||void 0===e||e.call(a,{index:S.currentIndex})}));r.useEffect(Me,[S.globalIndex,Me]),r.useEffect((()=>z(B(v,(e=>ye({direction:v,...e}))),B(g,(e=>ye({direction:g,...e}))),B(b,(e=>R(e))))),[B,ye,R]);const Ne=r.useMemo((()=>({prev:ae,next:ue,close:de,focus:ie,slideRect:Q?j(Q,o.padding):{width:0,height:0},containerRect:Q||{width:0,height:0},subscribeSensors:X,containerRef:G,setCarouselRef:te,toolbarWidth:k,setToolbarWidth:I})),[ae,ue,de,ie,X,Q,G,te,k,I,o.padding]);return r.useImperativeHandle(c.ref,(()=>({prev:ae,next:ue,close:de,focus:ie,getLightboxProps:le,getLightboxState:ce})),[ae,ue,de,ie,le,ce]),r.createElement("div",{ref:Z,className:T(A(He()),A(p)),style:{...$===Ue.SWIPE?{[F("swipe_offset")]:`${Math.round(W.current)}px`}:null,...$===Ue.PULL?{[F("pull_offset")]:`${Math.round(D.current)}px`,[F("pull_opacity")]:`${O.current}`}:null,..."none"!==c.touchAction?{[F("controller_touch_action")]:c.touchAction}:null,...u.container},...c.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...U},Q&&r.createElement(Ye.Provider,{value:Ne},e,null===(n=s.controls)||void 0===n?void 0:n.call(s)))}));function je(e){return U(o,e)}function qe(e){return U("slide",e)}function Ge({slide:e,offset:t}){const n=r.useRef(null),{currentIndex:o}=se(),{slideRect:i,close:l}=Ke(),{render:c,carousel:{imageFit:a,imageProps:u},on:{click:s},controller:{closeOnBackdropClick:d},styles:{slide:f}}=ce();return r.createElement("div",{ref:n,className:T(A(qe()),0===t&&A(qe("current")),A(p)),onClick:e=>{const t=n.current,r=e.target instanceof HTMLElement?e.target:void 0;d&&r&&t&&(r===t||Array.from(t.children).find((e=>e===r))&&r.classList.contains(A(m)))&&l()},style:f},(()=>{var n,l,d,f;let p=null===(n=c.slide)||void 0===n?void 0:n.call(c,{slide:e,offset:t,rect:i});return!p&&function(e){return void 0===e.type||"image"===e.type}(e)&&(p=r.createElement(Fe,{slide:e,offset:t,render:c,rect:i,imageFit:a,imageProps:u,onClick:0===t?()=>null==s?void 0:s({index:o}):void 0})),p?r.createElement(r.Fragment,null,null===(l=c.slideHeader)||void 0===l?void 0:l.call(c,{slide:e}),(null!==(d=c.slideContainer)&&void 0!==d?d:({children:e})=>e)({slide:e,children:p}),null===(f=c.slideFooter)||void 0===f?void 0:f.call(c,{slide:e})):null})())}function Je(){const e=ce().styles.slide;return r.createElement("div",{className:A("slide"),style:e})}const Qe=Z(o,(function({carousel:e}){const{slides:t,currentIndex:n,globalIndex:o}=se(),{setCarouselRef:i}=Ke(),l=V(e.spacing),c=V(e.padding),a=[],u=function(e,t,n=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),n))}(e,t,1);if(G(t)){for(let i=n-u;i<n;i+=1){const l=o+i-n;a.push(!e.finite||i>=0?r.createElement(Ge,{key:l,slide:t[(i+u*t.length)%t.length],offset:i-n}):r.createElement(Je,{key:l}))}a.push(r.createElement(Ge,{key:o,slide:t[n],offset:0}));for(let i=n+1;i<=n+u;i+=1){const l=o+i-n;a.push(!e.finite||i<=t.length-1?r.createElement(Ge,{key:l,slide:t[i%t.length],offset:i-n}):r.createElement(Je,{key:l}))}}return r.createElement("div",{ref:i,className:T(A(je()),a.length>0&&A(je("with_slides"))),style:{[`${F(je("slides_count"))}`]:a.length,[`${F(je("spacing_px"))}`]:l.pixel||0,[`${F(je("spacing_percent"))}`]:l.percent||0,[`${F(je("padding_px"))}`]:c.pixel||0,[`${F(je("padding_percent"))}`]:c.percent||0}},a)}));function Ze(){const{carousel:e}=ce(),{slides:t,currentIndex:n}=se();return{prevDisabled:0===t.length||e.finite&&0===n,nextDisabled:0===t.length||e.finite&&n===t.length-1}}function et({label:e,icon:t,renderIcon:n,action:o,onClick:i,disabled:l,style:c}){return r.createElement(be,{label:e,icon:t,renderIcon:n,className:A(`navigation_${o}`),disabled:l,onClick:i,style:c,...We(Ke().focus,l)})}const tt=Z("navigation",(function({render:{buttonPrev:e,buttonNext:t,iconPrev:n,iconNext:o},styles:i}){const{prev:l,next:c,subscribeSensors:a}=Ke(),{prevDisabled:u,nextDisabled:s}=Ze();return function(e){var t;const n=De(),{publish:o}=oe(),{animation:i}=ce(),{prevDisabled:l,nextDisabled:c}=Ze(),a=(null!==(t=i.navigation)&&void 0!==t?t:i.swipe)/2,u=Oe((()=>o(v)),a),s=Oe((()=>o(g)),a),d=Re((e=>{switch(e.key){case k:o(E);break;case I:(n?c:l)||(n?s:u)();break;case S:(n?l:c)||(n?u:s)()}}));r.useEffect((()=>e(M,d)),[e,d])}(a),r.createElement(r.Fragment,null,e?e():r.createElement(et,{label:"Previous",action:v,icon:we,renderIcon:n,style:i.navigationPrev,disabled:u,onClick:l}),t?t():r.createElement(et,{label:"Next",action:g,icon:Ce,renderIcon:o,style:i.navigationNext,disabled:s,onClick:c}))})),nt=A("no_scroll"),rt=A(h);function ot(e){return"style"in e}function it(e,t,n){const r=window.getComputedStyle(e),o=n?"padding-left":"padding-right",i=n?r.paddingLeft:r.paddingRight,l=e.style.getPropertyValue(o);return e.style.setProperty(o,`${(K(i)||0)+t}px`),()=>{l?e.style.setProperty(o,l):e.style.removeProperty(o)}}const lt=Z("no-scroll",(function({noScroll:{disabled:e},children:t}){const n=De();return Ne((()=>{if(e)return()=>{};const t=[],{body:r,documentElement:o}=document,i=Math.round(window.innerWidth-o.clientWidth);if(i>0){t.push(it(r,i,n));const e=r.getElementsByTagName("*");for(let r=0;r<e.length;r+=1){const o=e[r];ot(o)&&"fixed"===window.getComputedStyle(o).getPropertyValue("position")&&!o.classList.contains(rt)&&t.push(it(o,i,n))}}return r.classList.add(nt),()=>{r.classList.remove(nt),t.forEach((e=>e()))}}),[n,e]),r.createElement(r.Fragment,null,t)}));function ct(e){return U(l,e)}function at(e,t,n){const r=e.getAttribute(t);return e.setAttribute(t,n),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}const ut=Z(l,(function({children:e,animation:t,styles:n,className:o,on:i,portal:l,close:c}){const[a,u]=r.useState(!1),[s,d]=r.useState(!1),f=r.useRef([]),p=r.useRef(null),{setTimeout:m}=ve(),{subscribe:v}=oe(),g=Le()?0:t.fade;r.useEffect((()=>(u(!0),()=>{u(!1),d(!1)})),[]);const b=Re((()=>{f.current.forEach((e=>e())),f.current=[]})),x=Re((()=>{var e;d(!1),b(),null===(e=i.exiting)||void 0===e||e.call(i),m((()=>{var e;null===(e=i.exited)||void 0===e||e.call(i),c()}),g)}));r.useEffect((()=>v(E,x)),[v,x]);const y=Re((e=>{var t,n,r;e.scrollTop,d(!0),null===(t=i.entering)||void 0===t||t.call(i);const o=null!==(r=null===(n=e.parentNode)||void 0===n?void 0:n.children)&&void 0!==r?r:[];for(let i=0;i<o.length;i+=1){const t=o[i];-1===["TEMPLATE","SCRIPT","STYLE"].indexOf(t.tagName)&&t!==e&&(f.current.push(at(t,"inert","true")),f.current.push(at(t,"aria-hidden","true")))}f.current.push((()=>{var e,t;null===(t=null===(e=p.current)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)})),m((()=>{var e;null===(e=i.entered)||void 0===e||e.call(i)}),g)})),w=r.useCallback((e=>{e?y(e):b()}),[y,b]);return a?(0,D.createPortal)(r.createElement("div",{ref:w,className:T(o,A("root"),A(ct()),A(h),s&&A(ct("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==Q.animation.fade?{[F("fade_animation_duration")]:`${g}ms`}:null,...t.easing.fade!==Q.animation.easing.fade?{[F("fade_animation_timing_function")]:t.easing.fade}:null,...n.root},onFocus:e=>{p.current||(p.current=e.relatedTarget)}},e),l.root||document.body):null}));const st=Z("root",(function({children:e}){return r.createElement(r.Fragment,null,e)}));const dt=Z(c,(function({toolbar:{buttons:e},render:{buttonClose:t,iconClose:n},styles:o}){const{close:i,setToolbarWidth:l}=Ke(),{setContainerRef:a,containerRect:u}=Ie();return Ne((()=>{l(null==u?void 0:u.width)}),[l,null==u?void 0:u.width]),r.createElement("div",{ref:a,style:o.toolbar,className:A(U(c,s))},null==e?void 0:e.map((e=>e===E?t?t():r.createElement(be,{key:E,label:"Close",icon:ye,renderIcon:n,onClick:i}):e)));var s}));function ft(e,t){var n;return r.createElement(e.module.component,{key:e.module.name,...t},null===(n=e.children)||void 0===n?void 0:n.map((e=>ft(e,t))))}function pt(e,t={}){const{easing:n,...r}=e,{easing:o,...i}=t;return{easing:{...n,...o},...r,...i}}function ht({carousel:e,animation:t,render:n,toolbar:o,controller:l,noScroll:c,on:a,plugins:u,slides:s,index:d,...f}){const{animation:p,carousel:h,render:m,toolbar:v,controller:g,noScroll:b,on:E,slides:x,index:y,plugins:w,...C}=Q,{config:P,augmentation:M}=function(e,t=[],n=[]){let r=e;const o=e=>{const t=[...r];for(;t.length>0;){const n=t.pop();if((null==n?void 0:n.module.name)===e)return!0;(null==n?void 0:n.children)&&t.push(...n.children)}return!1},l=(e,t)=>{r=""!==e?ne(r,e,(e=>[ee(t,[e])])):[ee(t,r)]},c=(e,t)=>{r=ne(r,e,(e=>[ee(e.module,[ee(t,e.children)])]))},a=(e,t,n)=>{r=ne(r,e,(e=>{var r;return[ee(e.module,[...n?[ee(t)]:[],...null!==(r=e.children)&&void 0!==r?r:[],...n?[]:[ee(t)]])]}))},u=(e,t,n)=>{r=ne(r,e,(e=>[...n?[ee(t)]:[],e,...n?[]:[ee(t)]]))},s=e=>{c(i,e)},d=(e,t)=>{r=ne(r,e,(e=>[ee(t,e.children)]))},f=e=>{r=ne(r,e,(e=>e.children))},p=e=>{n.push(e)};return t.forEach((e=>{e({contains:o,addParent:l,append:c,addChild:a,addSibling:u,addModule:s,replace:d,remove:f,augment:p})})),{config:r,augmentation:e=>n.reduce(((e,t)=>t(e)),e)}}([ee(ut,[ee(lt,[ee(Ve,[ee(Qe),ee(dt),ee(tt)])])])],u||w),N=M({animation:pt(p,t),carousel:{...h,...e},render:{...m,...n},toolbar:{...v,...o},controller:{...g,...l},noScroll:{...b,...c},on:{...E,...a},...C,...f});return N.open?r.createElement(ae,{...N},r.createElement(he,{slides:s||x,index:K(d||y)},r.createElement(ge,null,r.createElement(ie,null,ft(ee(st,P),N))))):null}}}]);